{"ast":null,"code":"var _jsxFileName = \"/Users/andrei/SublimeWorkspace/final-project-globo-gym/src/components/MapContainer.js\";\nimport React, { Component } from \"react\";\nimport { Marker, Map, GoogleApiWrapper, StandaloneSearchBox } from \"google-maps-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class MapContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onMapReady = (mapProps, map) => {\n      const directionsService = new this.props.google.maps.DirectionsService();\n      const directionsDisplay = new this.props.google.maps.DirectionsRenderer();\n      directionsDisplay.setMap(map);\n      let startOfRoute = {\n        lat: this.state.coords[0].lat,\n        lng: this.state.coords[0].lng\n      };\n      let endOfRoute = {\n        lat: this.state.coords[this.state.coords.length - 1].lat,\n        lng: this.state.coords[this.state.coords.length - 1].lng\n      };\n      let request = {\n        origin: startOfRoute,\n        waypoints: this.state.waypoints,\n        destination: endOfRoute,\n        travelMode: \"BICYCLING\"\n      };\n      directionsService.route(request, function (result, status) {\n        if (status == \"OK\") {\n          directionsDisplay.setDirections(result);\n        }\n      });\n      let startContainer = document.getElementById(\"start-of-route-container\");\n      let start = document.getElementById(\"start-of-route\");\n      let endContainer = document.getElementById(\"end-of-route-container\");\n      let end = document.getElementById(\"end-of-route\");\n      map.controls[this.props.google.maps.ControlPosition.TOP_LEFT].push(startContainer);\n      map.controls[this.props.google.maps.ControlPosition.TOP_RIGHT].push(endContainer);\n      let autocompleteStart = new this.props.google.maps.places.Autocomplete(start);\n      let autocompleteEnd = new this.props.google.maps.places.Autocomplete(end);\n      autocompleteStart.bindTo(\"bounds\", map);\n      autocompleteEnd.bindTo(\"bounds\", map);\n      autocompleteStart.setFields([\"address_components\", \"geometry\", \"icon\", \"name\"]);\n      autocompleteEnd.setFields([\"address_components\", \"geometry\", \"icon\", \"name\"]); //listener for the places input\n\n      autocompleteStart.addListener(\"place_changed\", () => {\n        let place = autocompleteStart.getPlace();\n\n        if (!place.geometry) {\n          window.alert(\"No Address Available For: '\" + place.name + \"'\");\n          return;\n        }\n\n        this.state.coords[0] = {\n          lat: place.geometry.location.lat(),\n          lng: place.geometry.location.lng()\n        };\n        request = {\n          origin: this.state.coords[0],\n          waypoints: this.state.waypoints,\n          destination: this.state.coords[1],\n          travelMode: \"BICYCLING\"\n        };\n        const tempwaypoints = [this.state.coords[0], this.state.coords[1]];\n        const serverParams = {\n          \"creator\": \"Andrei\",\n          \"waypoints\": tempwaypoints,\n          \"description\": \"daily walk\"\n        };\n        console.log(this.state.waypoints);\n        const serverRequest = {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(serverParams)\n        }; //creating new directions request\n\n        if (this.state.coords[0] !== null && this.state.coords[1] !== null) {\n          directionsService.route(request, function (result, status) {\n            if (status == \"OK\") {\n              directionsDisplay.setDirections(result);\n            }\n          });\n          let response;\n          fetch(\"http://localhost:8080/api/routes\", serverRequest).then(response => response = response.json()).then(data => console.log(data));\n        }\n\n        ;\n      });\n      autocompleteEnd.addListener(\"place_changed\", () => {\n        let place = autocompleteEnd.getPlace();\n\n        if (!place.geometry) {\n          window.alert(\"No Address Available For: '\" + place.name + \"'\");\n          return;\n        }\n\n        this.state.coords[1] = {\n          lat: place.geometry.location.lat(),\n          lng: place.geometry.location.lng()\n        };\n        request = {\n          origin: this.state.coords[0],\n          waypoints: this.state.waypoints,\n          destination: this.state.coords[1],\n          travelMode: \"BICYCLING\"\n        };\n        const tempWaypoints = [this.state.coords[0], this.state.coords[1]];\n        const serverParams = {\n          \"creator\": \"Andrei\",\n          \"waypoints\": tempWaypoints,\n          \"description\": \"daily walk\"\n        };\n        const serverRequest = {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(serverParams)\n        }; //creating new directions request\n\n        if (this.state.coords[0] !== null && this.state.coords[1] !== null) {\n          directionsService.route(request, function (result, status) {\n            if (status == \"OK\") {\n              directionsDisplay.setDirections(result);\n            }\n          });\n          fetch(\"http://localhost:8080/api/routes\", serverRequest).then(response => response.json()).then(data => console.log(\"andrei\", data));\n        }\n      });\n    };\n\n    this.state = {\n      coords: [{\n        name: \"Noah\",\n        title: \"Noah!\",\n        lat: 42.356276,\n        lng: -71.096876,\n        id: 1\n      }, {\n        name: \"Andrei\",\n        title: \"Andrei\",\n        lat: 42.348310,\n        lng: -71.081311,\n        id: 3\n      }],\n      waypoints: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"nav-bar-address\",\n        id: \"start-of-route-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-outline-success my-2 my-sm-0\",\n          type: \"submit\",\n          style: {\n            height: \"50px\"\n          },\n          children: \"From\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"form-control mr-sm-2\",\n          id: \"start-of-route\",\n          type: \"search\",\n          placeholder: \"Address\",\n          \"aria-label\": \"Search\",\n          style: {\n            height: \"50px\",\n            width: \"500px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"nav-bar-address\",\n        id: \"end-of-route-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-outline-success my-2 my-sm-0\",\n          type: \"submit\",\n          style: {\n            height: \"50px\"\n          },\n          children: \"To\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"form-control mr-sm-2\",\n          id: \"end-of-route\",\n          type: \"search\",\n          placeholder: \"Address\",\n          \"aria-label\": \"Search\",\n          style: {\n            height: \"50px\",\n            width: \"500px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Map, {\n        className: \"map\",\n        initialCenter: {\n          lat: 14.6091,\n          lng: 121.0223\n        },\n        google: this.props.google,\n        onClick: this.onMapClick,\n        onReady: this.onMapReady,\n        style: {\n          width: \"85%\",\n          height: \"100%\",\n          position: \"fixed\"\n        },\n        containerStyle: {\n          position: \"fixed\",\n          width: \"100%\",\n          height: \"100%\",\n          marginTop: \"0vh\"\n        },\n        zoom: 7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 500,\n          height: 500\n        },\n        id: this.props.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"infowindow-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"\",\n          width: \"16\",\n          height: \"16\",\n          id: \"place-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"place-name\",\n          className: \"title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"place-address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"place-coord\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this);\n  }\n\n}\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyBAVWVu8_U0FfwgBiHVN3q-G5uCQNBAj7Y'\n})(MapContainer);","map":{"version":3,"sources":["/Users/andrei/SublimeWorkspace/final-project-globo-gym/src/components/MapContainer.js"],"names":["React","Component","Marker","Map","GoogleApiWrapper","StandaloneSearchBox","MapContainer","constructor","props","onMapReady","mapProps","map","directionsService","google","maps","DirectionsService","directionsDisplay","DirectionsRenderer","setMap","startOfRoute","lat","state","coords","lng","endOfRoute","length","request","origin","waypoints","destination","travelMode","route","result","status","setDirections","startContainer","document","getElementById","start","endContainer","end","controls","ControlPosition","TOP_LEFT","push","TOP_RIGHT","autocompleteStart","places","Autocomplete","autocompleteEnd","bindTo","setFields","addListener","place","getPlace","geometry","window","alert","name","location","tempwaypoints","serverParams","console","log","serverRequest","method","headers","body","JSON","stringify","response","fetch","then","json","data","tempWaypoints","title","id","render","height","width","onMapClick","position","marginTop","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Marker, Map, GoogleApiWrapper, StandaloneSearchBox } from \"google-maps-react\";\n\nexport class MapContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n     coords : [ {\n          name: \"Noah\",\n          title: \"Noah!\",\n          lat: 42.356276,\n          lng: -71.096876,\n          id: 1,\n        },\n        {\n            name: \"Andrei\",\n            title: \"Andrei\",\n            lat: 42.348310,\n            lng: -71.081311,\n            id: 3,\n        },\n      ],\n      waypoints : [],\n    };\n  }\n    onMapReady = (mapProps, map) => {\n      \n      const directionsService = new this.props.google.maps.DirectionsService();\n      const directionsDisplay = new this.props.google.maps.DirectionsRenderer();\n      directionsDisplay.setMap(map);\n      let startOfRoute = { lat:this.state.coords[0].lat, lng:this.state.coords[0].lng };\n      let endOfRoute = {\n        lat: this.state.coords[this.state.coords.length - 1].lat,\n        lng: this.state.coords[this.state.coords.length - 1].lng,\n      };\n  \n      let request = {\n        origin: startOfRoute,\n        waypoints: this.state.waypoints,\n        destination: endOfRoute,\n        travelMode: \"BICYCLING\",\n      };\n\n      directionsService.route(request, function (result, status) {\n        if (status == \"OK\") {\n          directionsDisplay.setDirections(result);\n        }\n      });\n\n      let startContainer = document.getElementById(\"start-of-route-container\");\n      let start = document.getElementById(\"start-of-route\");\n      let endContainer = document.getElementById(\"end-of-route-container\");\n      let end = document.getElementById(\"end-of-route\");\n      map.controls[this.props.google.maps.ControlPosition.TOP_LEFT].push(startContainer);\n      map.controls[this.props.google.maps.ControlPosition.TOP_RIGHT].push(endContainer);\n      let autocompleteStart = new this.props.google.maps.places.Autocomplete(start);\n      let autocompleteEnd = new this.props.google.maps.places.Autocomplete(end);\n      autocompleteStart.bindTo(\"bounds\", map);\n      autocompleteEnd.bindTo(\"bounds\", map);\n      autocompleteStart.setFields([\"address_components\", \"geometry\", \"icon\", \"name\"]);\n      autocompleteEnd.setFields([\"address_components\", \"geometry\", \"icon\", \"name\"]);\n\n      //listener for the places input\n      autocompleteStart.addListener(\"place_changed\", () => {\n        let place = autocompleteStart.getPlace();\n        if (!place.geometry) {\n          window.alert(\"No Address Available For: '\" + place.name + \"'\");\n          return;\n        }\n       this.state.coords[0] = {\n          lat: place.geometry.location.lat(),\n          lng: place.geometry.location.lng(),\n        };\n        \n        request = {\n          origin:this.state.coords[0],\n          waypoints: this.state.waypoints,\n          destination:this.state.coords[1],\n          travelMode: \"BICYCLING\",\n        };\n        const tempwaypoints = [this.state.coords[0], this.state.coords[1]];\n        const serverParams = {\n          \"creator\" : \"Andrei\",\n          \"waypoints\" : tempwaypoints,\n          \"description\" : \"daily walk\"\n\n        }\n        console.log(this.state.waypoints)\n        const serverRequest = {\n          method : \"POST\",\n          headers: { 'Content-Type': 'application/json' },\n          body : JSON.stringify(serverParams)\n\n        }\n        //creating new directions request\n        if (this.state.coords[0] !== null &&this.state.coords[1] !== null) {\n            directionsService.route(request, function (result, status) {\n                if (status == \"OK\") {\n                    directionsDisplay.setDirections(result);\n                }\n            });\n            let response;\n            fetch(\"http://localhost:8080/api/routes\", serverRequest)\n              .then(response => response = response.json())\n              .then(data => console.log(data));\n        };\n      });\n\n      autocompleteEnd.addListener(\"place_changed\", () => {\n        let place = autocompleteEnd.getPlace();\n        if (!place.geometry) {\n          window.alert(\"No Address Available For: '\" + place.name + \"'\");\n          return;\n        }\n       this.state.coords[1] = {\n          lat: place.geometry.location.lat(),\n          lng: place.geometry.location.lng(),\n        };\n        \n        request = {\n          origin:this.state.coords[0],\n          waypoints: this.state.waypoints,\n          destination:this.state.coords[1],\n          travelMode: \"BICYCLING\",\n        };\n        const tempWaypoints = [this.state.coords[0], this.state.coords[1]];\n        const serverParams = {\n          \"creator\" : \"Andrei\",\n          \"waypoints\" : tempWaypoints,\n          \"description\" : \"daily walk\"\n        }\n        const serverRequest = {\n          method : \"POST\",\n          headers: { 'Content-Type': 'application/json' },\n          body : JSON.stringify(serverParams)\n\n        }\n        //creating new directions request\n        if (this.state.coords[0] !== null &&this.state.coords[1] !== null) {\n            directionsService.route(request, function (result, status) {\n                if (status == \"OK\") {\n                    directionsDisplay.setDirections(result);\n                }\n            });\n            fetch(\"http://localhost:8080/api/routes\", serverRequest)\n              .then(response => response.json())\n              .then(data => console.log(\"andrei\", data))\n        }\n      });\n    };\n  \n  \n    render() {\n  \n      return (\n        <div>\n          <form className=\"nav-bar-address\" id=\"start-of-route-container\">\n              <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\" style={{ height: \"50px\"}}>From</button>\n              <input class=\"form-control mr-sm-2\" id=\"start-of-route\" type=\"search\" placeholder=\"Address\" aria-label=\"Search\" style={{height: \"50px\", width: \"500px\"}}></input>\n            </form>\n            <form className=\"nav-bar-address\" id=\"end-of-route-container\">\n              <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\" style={{ height: \"50px\"}}>To</button>\n              <input class=\"form-control mr-sm-2\" id=\"end-of-route\" type=\"search\" placeholder=\"Address\" aria-label=\"Search\" style={{height: \"50px\", width: \"500px\"}}></input>\n          </form>\n          <Map\n            className=\"map\"\n            initialCenter={{ lat: 14.6091, lng: 121.0223 }}\n            google={this.props.google}\n            onClick={this.onMapClick}\n            onReady={this.onMapReady}\n            style={{width: \"85%\", height: \"100%\", position: \"fixed\"}}\n            containerStyle={{position: \"fixed\", width: \"100%\", height:\"100%\", marginTop:\"0vh\"}}\n            zoom={7}\n          >\n          </Map>\n          <div style={{ width: 500, height: 500 }} id={this.props.id} />\n          <div id=\"infowindow-content\">\n            <img src=\"\" width=\"16\" height=\"16\" id=\"place-icon\" />\n            <span id=\"place-name\" className=\"title\"></span>\n            <br />\n            <span id=\"place-address\"></span>\n            <br />\n            <span id=\"place-coord\"></span>\n          </div>\n        </div>\n      );\n    }\n  }\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyBAVWVu8_U0FfwgBiHVN3q-G5uCQNBAj7Y'\n})(MapContainer);"]},"metadata":{},"sourceType":"module"}